# 🚀 地圖點擊新增地點 - 快速測試

## ⚡ 5 分鐘快速測試

### **步驟 1：啟動服務** ⏱️ 30 秒

```bash
# 終端機 1 - 後端
cd /Users/fffuuuming/Desktop/study/master/master_2_2/wp/wp1141/hw4/backend
npm run dev

# 終端機 2 - 前端
cd /Users/fffuuuming/Desktop/study/master/master_2_2/wp/wp1141/hw4/frontend
npm run dev
```

---

### **步驟 2：登入並新增一個地點** ⏱️ 1 分鐘

1. 訪問 `http://localhost:5175`
2. 登入（或註冊新帳號）
3. 新增一個地點（用於顯示地圖）
   - 名稱：「測試地點」
   - 地址：「台北市信義區信義路五段7號」
   - 點擊「獲取座標」
   - 點擊「儲存」

---

### **步驟 3：測試地圖點擊新增** ⏱️ 2 分鐘

#### **3.1 查看地圖總覽**
- 在地點列表頁面，應該看到地圖總覽
- 地圖上顯示剛才新增的地點標記
- 看到提示：「💡 提示：點擊地圖任意位置可快速新增地點」

#### **3.2 點擊地圖**
1. **在地圖上點擊空白處**（避開現有標記）
2. **頁面自動跳轉**到新增地點頁面
3. **看到載入提示**：「正在從地圖座標獲取地址...」

#### **3.3 驗證自動填入**
- ✅ **成功訊息顯示**：
  ```
  ✅ 已從地圖座標獲取地址
  📍 座標：25.033976, 121.564539
  📮 地址：台北市信義區信義路五段7號
  ```
- ✅ **地址欄位已自動填入**
- ✅ **座標顯示在地址欄位下方**

#### **3.4 儲存地點**
1. 補充地點名稱：「地圖新增測試點」
2. 選擇分類：「景點」
3. 選擇評分：4 星
4. 點擊「儲存」

#### **3.5 驗證結果**
- ✅ 跳轉回地點列表
- ✅ 顯示成功訊息：「地點新增成功！」
- ✅ 看到新地點卡片
- ✅ 地圖上顯示新標記

---

### **步驟 4：測試標記點擊** ⏱️ 30 秒

1. **點擊地圖上的標記**（不是空白處）
2. 應該**跳轉到該地點的詳情頁面**
3. 看到地點的完整資訊和地圖

---

## ✅ 測試通過標準

如果以上步驟都成功，恭喜！功能正常運作！

### **核心功能驗證：**
- ✅ 點擊地圖空白處 → 跳轉到新增頁面
- ✅ 座標和地址自動填入
- ✅ 可以正常儲存
- ✅ 新地點顯示在列表和地圖上
- ✅ 點擊標記 → 跳轉到詳情頁面

---

## 🐛 常見問題

### **Q：點擊地圖沒反應？**
- 確認地圖已完全載入
- 確認沒有點到標記（點擊空白處）
- 檢查瀏覽器 Console (F12) 是否有錯誤

### **Q：反向地理編碼失敗？**
- 確認後端正在運行
- 確認網路連線正常
- 檢查 Console 是否有 API 錯誤

### **Q：座標沒有自動填入？**
- 檢查 URL 是否包含 `lat` 和 `lng` 參數
- 重新整理頁面試試

---

## 🔄 清除測試資料

測試完成後：

```bash
cd backend
npm run db:clear
```

---

## 📖 詳細文檔

需要更詳細的測試指南？請參考：
- [完整測試指南](./MAP_CLICK_ADD_TESTING_GUIDE.md)
- [功能完成報告](./MAP_CLICK_ADD_COMPLETED.md)

---

**祝測試順利！** 🎉

