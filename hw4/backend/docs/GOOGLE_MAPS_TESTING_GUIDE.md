# 🗺️ Google Maps 整合測試指南

## ✅ 已完成功能

### **第二階段：Google Maps 整合**
- ✅ 創建可重用的 GoogleMap 組件
- ✅ 在地點詳情頁面顯示地圖（單一標記）
- ✅ 在地點列表頁面顯示地圖總覽（多個標記）
- ✅ 標記點擊查看詳情功能
- ✅ 三種視圖模式切換（列表/地圖/兩者）

---

## 🧪 測試步驟

### **前置條件**
```bash
# 確認服務運行
# 後端: http://localhost:3001/health
# 前端: http://localhost:5175

# 確認 Google Maps API Key 已設定
# 檢查 frontend/.env 檔案
```

---

## 📍 測試案例 1：地點詳情頁面的地圖

### **步驟：**
1. 登入系統
2. 進入地點列表
3. 點擊任一地點的「查看詳情」
4. 滾動到地址區塊下方

### **預期結果：**
- ✅ 看到 Google Maps 地圖
- ✅ 地圖上有一個紅色標記
- ✅ 標記位置與座標一致
- ✅ 地圖自動置中於標記位置
- ✅ 點擊標記顯示 InfoWindow（地點名稱和描述）
- ✅ 地圖支援縮放、拖曳、街景等功能

### **測試提示：**
- 嘗試放大/縮小地圖
- 嘗試拖曳地圖
- 點擊街景小人查看街景
- 點擊標記查看詳情氣泡

---

## 🗺️ 測試案例 2：地點列表頁面的地圖總覽

### **步驟：**
1. 登入系統
2. 進入地點列表
3. 確認您至少有 2-3 個地點

### **預期結果：**
- ✅ 看到搜尋欄右側有三個視圖切換按鈕
- ✅ 預設顯示「地圖+列表」模式
- ✅ 地圖顯示所有地點的標記
- ✅ 地圖自動調整視野包含所有標記
- ✅ 每個標記對應一個地點

### **視圖模式測試：**

#### **模式 A：純列表視圖** 📋
1. 點擊第一個按鈕（單列表圖標）
2. **預期：**
   - ✅ 地圖隱藏
   - ✅ 只顯示地點卡片
   - ✅ 卡片排列為網格

#### **模式 B：地圖+列表** 📋🗺️
1. 點擊第二個按鈕（列表+地圖圖標）
2. **預期：**
   - ✅ 地圖顯示在上方
   - ✅ 地點卡片顯示在下方
   - ✅ 兩者同時可見

#### **模式 C：純地圖視圖** 🗺️
1. 點擊第三個按鈕（單地圖圖標）
2. **預期：**
   - ✅ 只顯示地圖
   - ✅ 地點卡片隱藏
   - ✅ 地圖佔據主要空間

---

## 🎯 測試案例 3：地圖標記點擊互動

### **步驟：**
1. 在地點列表頁面（地圖+列表模式）
2. 點擊地圖上的任一標記

### **預期結果：**
- ✅ 顯示 InfoWindow（氣泡視窗）
- ✅ InfoWindow 包含地點名稱
- ✅ InfoWindow 包含地點描述（如果有）
- ✅ 點擊標記後自動跳轉到地點詳情頁面

### **進階測試：**
1. 點擊不同標記
2. **預期：**
   - ✅ 每個標記都能正確跳轉
   - ✅ 跳轉到對應的地點詳情頁
   - ✅ 詳情頁顯示該地點的資訊

---

## 🔍 測試案例 4：搜尋與地圖聯動

### **步驟：**
1. 在地點列表頁面
2. 在搜尋欄輸入關鍵字（例：「台北」）

### **預期結果：**
- ✅ 地圖上的標記隨搜尋結果更新
- ✅ 只顯示符合條件的地點標記
- ✅ 地圖自動調整視野以包含篩選後的標記
- ✅ 列表卡片也同步篩選

### **測試流程：**
1. 輸入「台北」
   - 確認只顯示包含「台北」的地點
2. 清除搜尋
   - 確認所有標記恢復顯示
3. 輸入不存在的關鍵字
   - 確認地圖隱藏
   - 顯示「找不到符合條件的地點」

---

## 🌐 測試案例 5：多地點地圖自動適配

### **步驟：**
1. 確保您有多個不同位置的地點（例如：台北、台中、高雄）
2. 進入地點列表頁面

### **預期結果：**
- ✅ 地圖自動縮放以包含所有標記
- ✅ 可以看到所有地點的標記
- ✅ 地圖中心位於所有標記的重心
- ✅ 縮放級別適當（不會太遠或太近）

### **如果只有單一地點：**
- ✅ 地圖置中於該地點
- ✅ 使用預設縮放級別（zoom: 13）

---

## 📱 測試案例 6：響應式設計

### **桌面瀏覽器測試：**
1. 調整瀏覽器視窗大小
2. **預期：**
   - ✅ 地圖保持合適比例
   - ✅ 按鈕排列正常
   - ✅ 卡片網格自動調整（3欄→2欄→1欄）

### **行動裝置模擬：**
1. 開啟開發者工具 (F12)
2. 切換到手機模擬模式
3. **預期：**
   - ✅ 地圖正常顯示
   - ✅ 標記可點擊
   - ✅ 觸控操作流暢（縮放、拖曳）

---

## 🐛 錯誤處理測試

### **測試 1：API Key 錯誤**
1. 暫時移除或使用錯誤的 API Key
2. 刷新頁面
3. **預期：**
   - ✅ 顯示錯誤訊息
   - ✅ 不會導致頁面崩潰
   - ✅ 其他功能仍可使用

### **測試 2：網路錯誤**
1. 在地圖載入過程中中斷網路
2. **預期：**
   - ✅ 顯示載入指示器
   - ✅ 顯示錯誤訊息
   - ✅ 可以重試

### **測試 3：無地點資料**
1. 清除所有地點
2. 進入地點列表
3. **預期：**
   - ✅ 不顯示地圖
   - ✅ 顯示「還沒有任何地點」訊息
   - ✅ 提示新增地點

---

## 📊 功能檢查清單

### **GoogleMap 組件**
- [ ] 地圖正確載入
- [ ] 標記正確顯示
- [ ] InfoWindow 正確顯示
- [ ] 標記點擊事件正常
- [ ] 地圖點擊事件正常（暫未實作）
- [ ] 多標記時自動適配視野
- [ ] 載入狀態顯示
- [ ] 錯誤處理正常

### **地點詳情頁面**
- [ ] 地圖顯示在正確位置
- [ ] 單一標記正確顯示
- [ ] 標記位置與座標一致
- [ ] InfoWindow 包含正確資訊
- [ ] 地圖縮放級別合適（zoom: 16）

### **地點列表頁面**
- [ ] 視圖切換按鈕正常運作
- [ ] 三種模式正確切換
- [ ] 地圖顯示所有地點標記
- [ ] 標記點擊跳轉正確
- [ ] 搜尋與地圖聯動
- [ ] 篩選後地圖自動更新
- [ ] 空狀態處理正確

### **使用者體驗**
- [ ] 地圖載入流暢
- [ ] 標記動畫效果（DROP）
- [ ] InfoWindow 樣式美觀
- [ ] 響應式設計正常
- [ ] 觸控操作友善
- [ ] 無 Console 錯誤

---

## 🎯 進階功能測試

### **測試建議的地點組合：**
```
1. 台北101 (台北市信義區)
2. 故宮博物院 (台北市士林區)
3. 日月潭 (南投縣魚池鄉)
4. 阿里山 (嘉義縣阿里山鄉)
5. 墾丁國家公園 (屏東縣恆春鎮)
```

這組地點涵蓋台灣南北，可以很好地測試地圖的自動適配功能。

---

## 💡 測試提示

### **建議測試順序：**
1. 先測試地點詳情頁面的單一標記
2. 再測試地點列表的多標記顯示
3. 測試視圖切換功能
4. 測試標記點擊互動
5. 測試搜尋聯動
6. 最後測試錯誤處理

### **常見問題排除：**
- **地圖不顯示**：檢查 Google API Key 是否正確
- **標記位置錯誤**：檢查座標數值是否正確
- **InfoWindow 不顯示**：檢查瀏覽器 Console 錯誤
- **點擊無反應**：確認事件處理函數正確綁定

### **開發工具使用：**
- 打開 Console (F12) 查看錯誤
- 使用 Network 標籤檢查 API 請求
- 使用 React DevTools 檢查組件狀態

---

## 🎉 測試完成標準

當您完成以下測試後，第二階段即為完成：

- ✅ 地點詳情頁面地圖正常顯示
- ✅ 地點列表地圖總覽正常顯示
- ✅ 三種視圖模式正確切換
- ✅ 標記點擊跳轉正確
- ✅ 搜尋與地圖聯動正常
- ✅ 響應式設計正常
- ✅ 錯誤處理正常
- ✅ 無 Console 錯誤或警告

---

## 🚀 下一步（可選）

如果您想進一步增強地圖功能，可以考慮：

1. **地圖點擊新增地點**
   - 點擊地圖任意位置
   - 自動填入座標到新增表單

2. **路線規劃**
   - 從當前位置到地點的路線
   - 使用 Directions API

3. **附近地點**
   - 顯示地點周邊的其他地點
   - 使用 Places API

4. **地點群組**
   - 當標記太多時自動群組
   - 使用 Marker Clustering

---

**測試愉快！🗺️✨**

