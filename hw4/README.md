# æ¢æ¢ - åœ°é»æ¢ç´¢èˆ‡æ”¶è—å¹³å°

ä¸€å€‹ç¾ä»£åŒ–çš„åœ°é»æ¢ç´¢èˆ‡æ”¶è—å¹³å°ï¼Œæ•´åˆ Google Maps APIï¼Œè®“ä½¿ç”¨è€…èƒ½å¤ ç™¼ç¾ã€æ”¶è—å’Œç®¡ç†å–œæ„›çš„åº—å®¶èˆ‡æ™¯é»ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹è‰²

### ğŸ—ºï¸ åœ°åœ–æ¢ç´¢
- **äº’å‹•å¼åœ°åœ–**ï¼šåŸºæ–¼ Google Maps JavaScript API çš„éŸ¿æ‡‰å¼åœ°åœ–
- **åœ°é»æœå°‹**ï¼šæ•´åˆ Google Places APIï¼Œæ”¯æ´é—œéµå­—æœå°‹
- **åœ°åœ–æ¨™è¨˜**ï¼šè¦–è¦ºåŒ–é¡¯ç¤ºæ”¶è—çš„åœ°é»
- **åœ°åœ–é»æ“Š**ï¼šé»æ“Šåœ°åœ–ç©ºç™½è™•æˆ–åœ°æ¨™å¿«é€Ÿæ–°å¢åœ°é»

### ğŸ‘¤ ä½¿ç”¨è€…ç³»çµ±
- **è¨»å†Š/ç™»å…¥**ï¼šå®‰å…¨çš„ JWT èªè­‰ç³»çµ±
- **å€‹äººè³‡æ–™**ï¼šä½¿ç”¨è€…è³‡è¨Šç®¡ç†èˆ‡çµ±è¨ˆæ•¸æ“š
- **å¯†ç¢¼å®‰å…¨**ï¼šbcrypt åŠ å¯†ï¼Œé˜²æ­¢å¯†ç¢¼å¤–æ´©

### ğŸ“ åœ°é»ç®¡ç†
- **CRUD æ“ä½œ**ï¼šæ–°å¢ã€æŸ¥çœ‹ã€ç·¨è¼¯ã€åˆªé™¤åœ°é»
- **åˆ†é¡ç³»çµ±**ï¼šé¤å»³ã€å’–å•¡å»³ã€æ™¯é»ã€åšç‰©é¤¨ç­‰åˆ†é¡
- **è©•åˆ†åŠŸèƒ½**ï¼š1-5 æ˜Ÿè©•åˆ†ç³»çµ±
- **å‚™è¨»åŠŸèƒ½**ï¼šå€‹äººç­†è¨˜èˆ‡æè¿°
- **åœ°å€ç®¡ç†**ï¼šè‡ªå‹•åœ°ç†ç·¨ç¢¼èˆ‡åå‘åœ°ç†ç·¨ç¢¼

### ğŸ“± ä½¿ç”¨è€…é«”é©—
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šæ”¯æ´æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æ©Ÿ
- **å¤šè¦–åœ–æ¨¡å¼**ï¼šåˆ—è¡¨è¦–åœ–ã€åœ°åœ–è¦–åœ–ã€æ··åˆè¦–åœ–
- **å³æ™‚æœå°‹**ï¼šåœ°é»åç¨±ã€æè¿°ã€åœ°å€æœå°‹
- **è¼‰å…¥ç‹€æ…‹**ï¼šå„ªé›…çš„è¼‰å…¥å‹•ç•«èˆ‡éŒ¯èª¤è™•ç†

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“æ£§
- **æ¡†æ¶**ï¼šReact 19 + TypeScript
- **å»ºç½®å·¥å…·**ï¼šVite
- **UI æ¡†æ¶**ï¼šMaterial-UI (MUI) v7
- **è·¯ç”±ç®¡ç†**ï¼šReact Router v7
- **ç‹€æ…‹ç®¡ç†**ï¼šReact Context + Custom Hooks
- **HTTP å®¢æˆ¶ç«¯**ï¼šAxios
- **åœ°åœ–æœå‹™**ï¼šGoogle Maps JavaScript API
- **æ¨£å¼ç³»çµ±**ï¼šEmotion + è¨­è¨ˆä»¤ç‰Œç³»çµ±

### å¾Œç«¯æŠ€è¡“æ£§
- **é‹è¡Œç’°å¢ƒ**ï¼šNode.js + Express
- **èªè¨€**ï¼šTypeScript
- **è³‡æ–™åº«**ï¼šSQLite
- **èªè­‰**ï¼šJWT + bcrypt
- **API æ•´åˆ**ï¼šGoogle Maps API (Geocoding, Places, Directions)
- **é©—è­‰**ï¼šexpress-validator
- **æ¸¬è©¦**ï¼šè‡ªå®šç¾©æ¸¬è©¦æ¡†æ¶

## ğŸ›ï¸ ç³»çµ±æ¶æ§‹åœ–

```mermaid
graph TB
    %% ç”¨æˆ¶å±¤
    User[ğŸ‘¤ ç”¨æˆ¶]
    
    %% å‰ç«¯å±¤
    subgraph Frontend["ğŸ–¥ï¸ å‰ç«¯æ‡‰ç”¨ (React + TypeScript)"]
        UI[ğŸ“± ç”¨æˆ¶ä»‹é¢]
        Auth[ğŸ” èªè­‰ç³»çµ±]
        Map[ğŸ—ºï¸ åœ°åœ–çµ„ä»¶]
        Location[ğŸ“ åœ°é»ç®¡ç†]
    end
    
    %% å¾Œç«¯å±¤
    subgraph Backend["âš™ï¸ å¾Œç«¯æœå‹™ (Node.js + Express)"]
        API[ğŸŒ REST API]
        AuthController[ğŸ”‘ èªè­‰æ§åˆ¶å™¨]
        LocationController[ğŸ“ åœ°é»æ§åˆ¶å™¨]
        GoogleController[ğŸ—ºï¸ Google API æ§åˆ¶å™¨]
        Middleware[ğŸ›¡ï¸ ä¸­é–“ä»¶]
    end
    
    %% è³‡æ–™åº«å±¤
    subgraph Database["ğŸ’¾ è³‡æ–™åº«å±¤"]
        SQLite[(ğŸ—ƒï¸ SQLite è³‡æ–™åº«)]
        UserTable[ğŸ‘¤ Users è¡¨]
        LocationTable[ğŸ“ Locations è¡¨]
    end
    
    %% å¤–éƒ¨æœå‹™
    subgraph External["ğŸŒ å¤–éƒ¨æœå‹™"]
        GoogleMaps[ğŸ—ºï¸ Google Maps API]
        Places[ğŸ¢ Places API]
        Geocoding[ğŸ“ Geocoding API]
        Directions[ğŸ›£ï¸ Directions API]
    end
    
    %% é€£æ¥é—œä¿‚
    User --> UI
    UI --> Auth
    UI --> Map
    UI --> Location
    
    Auth --> AuthController
    Map --> GoogleController
    Location --> LocationController
    
    AuthController --> Middleware
    LocationController --> Middleware
    GoogleController --> Middleware
    
    Middleware --> API
    API --> SQLite
    
    SQLite --> UserTable
    SQLite --> LocationTable
    
    GoogleController --> GoogleMaps
    GoogleController --> Places
    GoogleController --> Geocoding
    GoogleController --> Directions
    
    %% æ¨£å¼
    classDef userClass fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef frontendClass fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef backendClass fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef databaseClass fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef externalClass fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    
    class User userClass
    class Frontend,UI,Auth,Map,Location frontendClass
    class Backend,API,AuthController,LocationController,GoogleController,Middleware backendClass
    class Database,SQLite,UserTable,LocationTable databaseClass
    class External,GoogleMaps,Places,Geocoding,Directions externalClass
```

### æ¶æ§‹èªªæ˜

#### ğŸ¯ **ä¸‰å±¤æ¶æ§‹è¨­è¨ˆ**
- **å±•ç¤ºå±¤ (Presentation Layer)**ï¼šReact å‰ç«¯æ‡‰ç”¨
- **æ¥­å‹™é‚è¼¯å±¤ (Business Logic Layer)**ï¼šNode.js å¾Œç«¯æœå‹™
- **è³‡æ–™å­˜å–å±¤ (Data Access Layer)**ï¼šSQLite è³‡æ–™åº«

#### ğŸ”„ **è³‡æ–™æµå‘**
1. **ç”¨æˆ¶æ“ä½œ** â†’ å‰ç«¯ UI çµ„ä»¶
2. **API è«‹æ±‚** â†’ å¾Œç«¯æ§åˆ¶å™¨
3. **æ¥­å‹™é‚è¼¯** â†’ ä¸­é–“ä»¶è™•ç†
4. **è³‡æ–™å­˜å–** â†’ SQLite è³‡æ–™åº«
5. **å¤–éƒ¨æ•´åˆ** â†’ Google Maps API æœå‹™

#### ğŸ›¡ï¸ **å®‰å…¨æ©Ÿåˆ¶**
- **JWT èªè­‰**ï¼šå‰å¾Œç«¯èº«ä»½é©—è­‰
- **ä¸­é–“ä»¶é©—è­‰**ï¼šAPI è«‹æ±‚å®‰å…¨æª¢æŸ¥
- **è¼¸å…¥é©—è­‰**ï¼šå‰å¾Œç«¯é›™é‡é©—è­‰
- **CORS æ§åˆ¶**ï¼šè·¨åŸŸè«‹æ±‚å®‰å…¨

#### ğŸŒ **å¤–éƒ¨æœå‹™æ•´åˆ**
- **Google Maps JavaScript API**ï¼šåœ°åœ–é¡¯ç¤ºèˆ‡äº’å‹•
- **Google Places API**ï¼šåœ°é»æœå°‹èˆ‡è©³æƒ…
- **Google Geocoding API**ï¼šåœ°å€èˆ‡åº§æ¨™è½‰æ›
- **Google Directions API**ï¼šè·¯ç·šè¦åŠƒåŠŸèƒ½

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
â”œâ”€â”€ frontend/                    # React å‰ç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/          # å¯é‡ç”¨çµ„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Header/         # é ­éƒ¨çµ„ä»¶ç¾¤
â”‚   â”‚   â”‚   â”œâ”€â”€ GoogleMap.tsx   # åœ°åœ–çµ„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ProtectedRoute.tsx
â”‚   â”‚   â”œâ”€â”€ pages/              # é é¢çµ„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ HomePage.tsx    # é¦–é 
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx   # ç™»å…¥é 
â”‚   â”‚   â”‚   â”œâ”€â”€ RegisterPage.tsx # è¨»å†Šé 
â”‚   â”‚   â”‚   â”œâ”€â”€ ExplorePage.tsx # æ¢ç´¢é 
â”‚   â”‚   â”‚   â”œâ”€â”€ MyLocationsPage.tsx # æˆ‘çš„åœ°é»
â”‚   â”‚   â”‚   â”œâ”€â”€ AddLocationPage.tsx # æ–°å¢åœ°é»
â”‚   â”‚   â”‚   â”œâ”€â”€ EditLocationPage.tsx # ç·¨è¼¯åœ°é»
â”‚   â”‚   â”‚   â”œâ”€â”€ LocationDetailPage.tsx # åœ°é»è©³æƒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ ProfilePage.tsx # å€‹äººè³‡æ–™
â”‚   â”‚   â”‚   â””â”€â”€ NotFoundPage.tsx # 404 é é¢
â”‚   â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šç¾© Hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ useLocationData.ts # åœ°é»æ•¸æ“šç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ useNotification.ts # é€šçŸ¥ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ useSearch.ts    # æœå°‹åŠŸèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ useViewMode.ts  # è¦–åœ–æ¨¡å¼
â”‚   â”‚   â”‚   â””â”€â”€ useForm.ts      # è¡¨å–®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ services/           # API æœå‹™å±¤
â”‚   â”‚   â”‚   â””â”€â”€ api/           # æ¨¡çµ„åŒ– API
â”‚   â”‚   â”‚       â”œâ”€â”€ authApi.ts # èªè­‰ API
â”‚   â”‚   â”‚       â”œâ”€â”€ locationApi.ts # åœ°é» API
â”‚   â”‚   â”‚       â”œâ”€â”€ googleApi.ts # Google API
â”‚   â”‚   â”‚       â””â”€â”€ baseClient.ts # åŸºç¤å®¢æˆ¶ç«¯
â”‚   â”‚   â”œâ”€â”€ context/           # React Context
â”‚   â”‚   â”‚   â””â”€â”€ AuthContext.tsx # èªè­‰ç‹€æ…‹
â”‚   â”‚   â”œâ”€â”€ styles/           # æ¨£å¼ç³»çµ±
â”‚   â”‚   â”‚   â”œâ”€â”€ designTokens.ts # è¨­è¨ˆä»¤ç‰Œ
â”‚   â”‚   â”‚   â””â”€â”€ sxUtils.ts     # æ¨£å¼å·¥å…·
â”‚   â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½æ•¸
â”‚   â”‚       â”œâ”€â”€ errorHandler.ts # éŒ¯èª¤è™•ç†
â”‚   â”‚       â”œâ”€â”€ formValidation.ts # è¡¨å–®é©—è­‰
â”‚   â”‚       â””â”€â”€ googleMapsLoader.ts # åœ°åœ–è¼‰å…¥
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/                   # Node.js å¾Œç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/      # æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ authController.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ locationController.ts
â”‚   â”‚   â”‚   â””â”€â”€ googleApiController.ts
â”‚   â”‚   â”œâ”€â”€ models/           # è³‡æ–™æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ User.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Location.ts
â”‚   â”‚   â”‚   â””â”€â”€ database.ts
â”‚   â”‚   â”œâ”€â”€ routes/           # è·¯ç”±å®šç¾©
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ location.ts
â”‚   â”‚   â”‚   â””â”€â”€ googleApi.ts
â”‚   â”‚   â”œâ”€â”€ services/         # æ¥­å‹™é‚è¼¯æœå‹™
â”‚   â”‚   â”‚   â”œâ”€â”€ geocodingService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ placesService.ts
â”‚   â”‚   â”‚   â””â”€â”€ directionsService.ts
â”‚   â”‚   â”œâ”€â”€ middleware/       # ä¸­é–“ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â””â”€â”€ validation.ts
â”‚   â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•¸
â”‚   â”‚   â”‚   â”œâ”€â”€ jwt.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ password.ts
â”‚   â”‚   â”‚   â””â”€â”€ response.ts
â”‚   â”‚   â””â”€â”€ config/           # é…ç½®
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ tests/                # æ¸¬è©¦æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ integration/      # æ•´åˆæ¸¬è©¦
â”‚   â”‚   â”œâ”€â”€ e2e/             # ç«¯åˆ°ç«¯æ¸¬è©¦
â”‚   â”‚   â””â”€â”€ unit/            # å–®å…ƒæ¸¬è©¦
â”‚   â”œâ”€â”€ scripts/             # è…³æœ¬å·¥å…·
â”‚   â”‚   â”œâ”€â”€ db/              # è³‡æ–™åº«ç®¡ç†
â”‚   â”‚   â””â”€â”€ setup/           # è¨­ç½®è…³æœ¬
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ database/                # SQLite è³‡æ–™åº«æª”æ¡ˆ
â”‚   â””â”€â”€ locations.db
â””â”€â”€ README.md
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚
- **Node.js** >= 16.0.0
- **npm** >= 8.0.0
- **Google Maps API Key** (éœ€è¦å•Ÿç”¨ä»¥ä¸‹ API)ï¼š
  - Maps JavaScript API
  - Geocoding API
  - Places API
  - Directions API

### å®‰è£èˆ‡è¨­ç½®

1. **è¤‡è£½å°ˆæ¡ˆ**
   ```bash
   git clone <repository-url>
   cd wp1141-hw4
   ```

2. **è¨­ç½®ç’°å¢ƒè®Šæ•¸**

   **å¾Œç«¯ç’°å¢ƒè®Šæ•¸ç¯„æœ¬** (`backend/.env.example`)ï¼š
   ```bash
   # Server Configuration
   # Server Configuration
   PORT=3001
   NODE_ENV=development

   # JWT Configuration
   JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
   JWT_EXPIRES_IN=7d

   # Google Maps API (Server Key - å·²å•Ÿç”¨ Geocoding/Places/Directions)
   GOOGLE_MAPS_SERVER_KEY=your-server-key-here

   # Database Configuration
   DATABASE_PATH=../database/locations.db

   # CORS Configuration
   FRONTEND_URL=http://localhost:5173
   ```

   **å‰ç«¯ç’°å¢ƒè®Šæ•¸ç¯„æœ¬** (`frontend/.env.example`)ï¼š
   ```bash
   # Google Maps API (Browser Key - Maps JavaScript API)
   VITE_GOOGLE_MAPS_JS_KEY=your-browser-key-here

   # Backend API
   VITE_API_BASE_URL=http://localhost:3001
   ```

   **è¨­ç½®æ­¥é©Ÿ**ï¼š
   ```bash
   # å¾Œç«¯ï¼šè¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬ä¸¦å¡«å…¥å¯¦éš›å€¼
   cp backend/.env.example backend/.env
   # ç·¨è¼¯ backend/.env ä¸¦å¡«å…¥ä½ çš„ Google Maps Server Key

   # å‰ç«¯ï¼šè¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬ä¸¦å¡«å…¥å¯¦éš›å€¼
   cp frontend/.env.example frontend/.env
   # ç·¨è¼¯ frontend/.env ä¸¦å¡«å…¥ä½ çš„ Google Maps Browser Key
   ```

   **âš ï¸ å®‰å…¨æé†’**
   
   **å¾Œç«¯ Keyï¼ˆServer Keyï¼‰å®‰å…¨é¢¨éšª**
   
   - **é¢¨éšªæè¿°**ï¼šServer Key å…·æœ‰è¼ƒé«˜çš„ API é…é¡é™åˆ¶ï¼Œä¸”æ²’æœ‰ç€è¦½å™¨ç«¯çš„å®‰å…¨é™åˆ¶
   - **æ½›åœ¨å¨è„…**ï¼š
     - Key æ´©éœ²æ™‚å¯èƒ½è¢«æƒ¡æ„ä½¿ç”¨ï¼Œå°è‡´ API é…é¡è€—ç›¡
     - å¯èƒ½è¢«ç”¨æ–¼æœªæˆæ¬Šçš„ API å‘¼å«ï¼Œç”¢ç”Ÿé¡å¤–è²»ç”¨
     - ç¼ºä¹ IP é™åˆ¶æ™‚ï¼Œä»»ä½•çŸ¥é“ Key çš„äººéƒ½å¯ä»¥ä½¿ç”¨
   - **ç›®å‰ç‹€æ³**ï¼šç”±æ–¼æœ¬åœ°é–‹ç™¼éœ€æ±‚ï¼Œæš«æ™‚æœªè¨­å®š IP é™åˆ¶
   - **å»ºè­°æªæ–½**ï¼š
     - å®šæœŸç›£æ§ API ä½¿ç”¨é‡
     - éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒæ™‚å‹™å¿…è¨­å®š IP é™åˆ¶
     - è€ƒæ…®ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ç®¡ç†ï¼Œé¿å…å°‡ Key æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶

3. **å®‰è£ä¾è³´**
   ```bash
   # å®‰è£å‰ç«¯ä¾è³´
   cd frontend
   npm install
   
   # å®‰è£å¾Œç«¯ä¾è³´
   cd ../backend
   npm install
   ```

4. **åˆå§‹åŒ–è³‡æ–™åº«**
   ```bash
   cd backend
   npm run init-db
   ```

5. **å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨**
   ```bash
   # çµ‚ç«¯æ©Ÿ 1ï¼šå•Ÿå‹•å¾Œç«¯
   cd backend
   npm run dev
   
   # çµ‚ç«¯æ©Ÿ 2ï¼šå•Ÿå‹•å‰ç«¯
   cd frontend
   npm run dev
   ```

6. **é–‹å•Ÿæ‡‰ç”¨ç¨‹å¼**
   - å‰ç«¯æ‡‰ç”¨ï¼šhttp://localhost:5173
   - å¾Œç«¯ APIï¼šhttp://localhost:3001

## ğŸ“‹ API æ–‡ä»¶

### èªè­‰ç›¸é—œ API
| æ–¹æ³• | ç«¯é» | æè¿° | èªè­‰éœ€æ±‚ |
|------|------|------|----------|
| POST | `/api/auth/register` | ä½¿ç”¨è€…è¨»å†Š | âŒ |
| POST | `/api/auth/login` | ä½¿ç”¨è€…ç™»å…¥ | âŒ |
| POST | `/api/auth/logout` | ä½¿ç”¨è€…ç™»å‡º | âœ… |
| GET | `/api/auth/profile` | å–å¾—ä½¿ç”¨è€…è³‡æ–™ | âœ… |
| PUT | `/api/auth/profile` | æ›´æ–°ä½¿ç”¨è€…è³‡æ–™ | âœ… |

### åœ°é»ç®¡ç† API
| æ–¹æ³• | ç«¯é» | æè¿° | èªè­‰éœ€æ±‚ |
|------|------|------|----------|
| GET | `/api/locations` | å–å¾—åœ°é»æ¸…å–® | âœ… |
| POST | `/api/locations` | æ–°å¢åœ°é» | âœ… |
| GET | `/api/locations/:id` | å–å¾—ç‰¹å®šåœ°é» | âœ… |
| PUT | `/api/locations/:id` | æ›´æ–°åœ°é» | âœ… |
| DELETE | `/api/locations/:id` | åˆªé™¤åœ°é» | âœ… |
| GET | `/api/locations/stats` | å–å¾—åœ°é»çµ±è¨ˆ | âœ… |

### Google API æ•´åˆ
| æ–¹æ³• | ç«¯é» | æè¿° | èªè­‰éœ€æ±‚ |
|------|------|------|----------|
| POST | `/api/google/geocode` | åœ°å€è½‰åº§æ¨™ | âœ… |
| POST | `/api/google/reverse-geocode` | åº§æ¨™è½‰åœ°å€ | âœ… |
| POST | `/api/google/places/search` | æœå°‹é™„è¿‘åœ°é» | âœ… |
| GET | `/api/google/places/details/:placeId` | å–å¾—åœ°é»è©³æƒ… | âœ… |
| POST | `/api/google/directions` | å–å¾—è·¯ç·šè¦åŠƒ | âœ… |
| POST | `/api/google/distance-matrix` | è¨ˆç®—è·é›¢çŸ©é™£ | âœ… |

## ğŸ“¡ API ä½¿ç”¨ç¯„ä¾‹

### ğŸ” æˆæ¬Šæµç¨‹ç¯„ä¾‹

#### 1. ä½¿ç”¨è€…è¨»å†Š
```bash
curl -X POST http://localhost:3001/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "email": "test@example.com",
    "password": "password123"
  }'
```

**å›æ‡‰ç¯„ä¾‹**ï¼š
```json
{
  "success": true,
  "message": "ä½¿ç”¨è€…è¨»å†ŠæˆåŠŸ",
  "data": {
    "user": {
      "id": 1,
      "username": "testuser",
      "email": "test@example.com"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

#### 2. ä½¿ç”¨è€…ç™»å…¥
```bash
curl -X POST http://localhost:3001/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "password123"
  }'
```

**å›æ‡‰ç¯„ä¾‹**ï¼š
```json
{
  "success": true,
  "message": "ç™»å…¥æˆåŠŸ",
  "data": {
    "user": {
      "id": 1,
      "username": "testuser",
      "email": "test@example.com"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

### ğŸ“ åœ°é»ç®¡ç†ç¯„ä¾‹

#### 3. æ–°å¢åœ°é»ï¼ˆéœ€è¦èªè­‰ï¼‰
```bash
curl -X POST http://localhost:3001/api/locations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN_HERE" \
  -d '{
    "name": "å°åŒ—101",
    "description": "å°ç£æœ€é«˜å»ºç¯‰ç‰©",
    "address": "å°åŒ—å¸‚ä¿¡ç¾©å€ä¿¡ç¾©è·¯äº”æ®µ7è™Ÿ",
    "latitude": 25.033,
    "longitude": 121.5654,
    "category": "æ™¯é»",
    "rating": 5,
    "notes": "è§€æ™¯å°è¦–é‡å¾ˆæ£’"
  }'
```

**å›æ‡‰ç¯„ä¾‹**ï¼š
```json
{
  "success": true,
  "message": "åœ°é»æ–°å¢æˆåŠŸ",
  "data": {
    "id": 1,
    "name": "å°åŒ—101",
    "description": "å°ç£æœ€é«˜å»ºç¯‰ç‰©",
    "address": "å°åŒ—å¸‚ä¿¡ç¾©å€ä¿¡ç¾©è·¯äº”æ®µ7è™Ÿ",
    "latitude": 25.033,
    "longitude": 121.5654,
    "category": "æ™¯é»",
    "rating": 5,
    "notes": "è§€æ™¯å°è¦–é‡å¾ˆæ£’",
    "userId": 1,
    "createdAt": "2024-01-15T10:30:00.000Z"
  }
}
```

#### 4. å–å¾—åœ°é»æ¸…å–®ï¼ˆéœ€è¦èªè­‰ï¼‰
```bash
curl -X GET http://localhost:3001/api/locations \
  -H "Authorization: Bearer YOUR_JWT_TOKEN_HERE"
```

**å›æ‡‰ç¯„ä¾‹**ï¼š
```json
{
  "success": true,
  "message": "åœ°é»æ¸…å–®å–å¾—æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "å°åŒ—101",
      "description": "å°ç£æœ€é«˜å»ºç¯‰ç‰©",
      "address": "å°åŒ—å¸‚ä¿¡ç¾©å€ä¿¡ç¾©è·¯äº”æ®µ7è™Ÿ",
      "latitude": 25.033,
      "longitude": 121.5654,
      "category": "æ™¯é»",
      "rating": 5,
      "notes": "è§€æ™¯å°è¦–é‡å¾ˆæ£’",
      "userId": 1,
      "createdAt": "2024-01-15T10:30:00.000Z"
    }
  ]
}
```

### ğŸ—ºï¸ Google API æ•´åˆç¯„ä¾‹

#### 5. åœ°å€è½‰åº§æ¨™ï¼ˆéœ€è¦èªè­‰ï¼‰
```bash
curl -X POST http://localhost:3001/api/google/geocode \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN_HERE" \
  -d '{
    "address": "å°åŒ—å¸‚ä¿¡ç¾©å€ä¿¡ç¾©è·¯äº”æ®µ7è™Ÿ"
  }'
```

**å›æ‡‰ç¯„ä¾‹**ï¼š
```json
{
  "success": true,
  "message": "åœ°ç†ç·¨ç¢¼æˆåŠŸ",
  "data": {
    "address": "å°åŒ—å¸‚ä¿¡ç¾©å€ä¿¡ç¾©è·¯äº”æ®µ7è™Ÿ",
    "latitude": 25.033,
    "longitude": 121.5654,
    "formatted_address": "110å°ç£å°åŒ—å¸‚ä¿¡ç¾©å€ä¿¡ç¾©è·¯äº”æ®µ7è™Ÿ"
  }
}
```

#### 6. æœå°‹é™„è¿‘åœ°é»ï¼ˆéœ€è¦èªè­‰ï¼‰
```bash
curl -X POST http://localhost:3001/api/google/places/search \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN_HERE" \
  -d '{
    "query": "æ˜Ÿå·´å…‹",
    "location": {
      "lat": 25.033,
      "lng": 121.5654
    },
    "radius": 1000
  }'
```

**å›æ‡‰ç¯„ä¾‹**ï¼š
```json
{
  "success": true,
  "message": "åœ°é»æœå°‹æˆåŠŸ",
  "data": {
    "places": [
      {
        "place_id": "ChIJ...",
        "name": "æ˜Ÿå·´å…‹ å°åŒ—101åº—",
        "formatted_address": "å°åŒ—å¸‚ä¿¡ç¾©å€ä¿¡ç¾©è·¯äº”æ®µ7è™Ÿ",
        "geometry": {
          "location": {
            "lat": 25.033,
            "lng": 121.5654
          }
        },
        "rating": 4.2,
        "types": ["cafe", "food", "point_of_interest"]
      }
    ]
  }
}
```

#### 7. æ›´æ–°åœ°é»ï¼ˆéœ€è¦èªè­‰ï¼‰
```bash
curl -X PUT http://localhost:3001/api/locations/1 \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN_HERE" \
  -d '{
    "name": "å°åŒ—101è§€æ™¯å°",
    "description": "å°ç£æœ€é«˜å»ºç¯‰ç‰©è§€æ™¯å°",
    "rating": 5,
    "notes": "å¤œæ™¯å¾ˆç¾ï¼Œå€¼å¾—ä¸€éŠ"
  }'
```

**å›æ‡‰ç¯„ä¾‹**ï¼š
```json
{
  "success": true,
  "message": "åœ°é»æ›´æ–°æˆåŠŸ",
  "data": {
    "id": 1,
    "name": "å°åŒ—101è§€æ™¯å°",
    "description": "å°ç£æœ€é«˜å»ºç¯‰ç‰©è§€æ™¯å°",
    "address": "å°åŒ—å¸‚ä¿¡ç¾©å€ä¿¡ç¾©è·¯äº”æ®µ7è™Ÿ",
    "latitude": 25.033,
    "longitude": 121.5654,
    "category": "æ™¯é»",
    "rating": 5,
    "notes": "å¤œæ™¯å¾ˆç¾ï¼Œå€¼å¾—ä¸€éŠ",
    "userId": 1,
    "updatedAt": "2024-01-15T11:00:00.000Z"
  }
}
```

### ğŸ”‘ èªè­‰ Token ä½¿ç”¨èªªæ˜

**å–å¾— Token**ï¼š
1. å…ˆä½¿ç”¨è¨»å†Šæˆ–ç™»å…¥ API å–å¾— JWT token
2. åœ¨å¾ŒçºŒçš„ API è«‹æ±‚ä¸­ï¼Œåœ¨ Header ä¸­åŠ å…¥ï¼š`Authorization: Bearer YOUR_JWT_TOKEN_HERE`
3. Token æœ‰æ•ˆæœŸç‚º 7 å¤©ï¼ŒéæœŸå¾Œéœ€è¦é‡æ–°ç™»å…¥

**éŒ¯èª¤è™•ç†ç¯„ä¾‹**ï¼š
```bash
# æœªæä¾›èªè­‰ token çš„éŒ¯èª¤å›æ‡‰
curl -X GET http://localhost:3001/api/locations
```

**éŒ¯èª¤å›æ‡‰**ï¼š
```json
{
  "success": false,
  "message": "æœªæä¾›èªè­‰ token",
  "error": "UNAUTHORIZED"
}
```

## ğŸ”§ é–‹ç™¼æŒ‡ä»¤

### å‰ç«¯é–‹ç™¼
```bash
cd frontend

# é–‹ç™¼æ¨¡å¼
npm run dev

# å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
npm run build

# é è¦½ç”Ÿç”¢ç‰ˆæœ¬
npm run preview

# ç¨‹å¼ç¢¼æª¢æŸ¥
npm run lint
```

### å¾Œç«¯é–‹ç™¼
```bash
cd backend

# é–‹ç™¼æ¨¡å¼ (è‡ªå‹•é‡å•Ÿ)
npm run dev

# å»ºç½® TypeScript
npm run build

# å•Ÿå‹•ç”Ÿç”¢ç‰ˆæœ¬
npm run start

# åˆå§‹åŒ–è³‡æ–™åº«
npm run init-db
```

### æ¸¬è©¦æŒ‡ä»¤
```bash
cd backend

# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
npm run test:all

# åŸ·è¡Œå–®ä¸€æ¸¬è©¦
npm run test:single

# æ¸¬è©¦ç‰¹å®šåŠŸèƒ½
npm run test-auth      # èªè­‰æ¸¬è©¦
npm run test-location  # åœ°é» CRUD æ¸¬è©¦
npm run test-google    # Google API æ¸¬è©¦
npm run test-geocoding # åœ°ç†ç·¨ç¢¼æ¸¬è©¦
```

### è³‡æ–™åº«ç®¡ç†
```bash
cd backend

# æ¸…é™¤æ‰€æœ‰è³‡æ–™
npm run db:clear

# é‡å»ºè³‡æ–™åº«
npm run db:rebuild

# æŸ¥çœ‹è³‡æ–™åº«è³‡è¨Š
npm run db:info
```

## ğŸ¨ è¨­è¨ˆç³»çµ±

### è¨­è¨ˆä»¤ç‰Œ
å°ˆæ¡ˆä½¿ç”¨çµ±ä¸€çš„è¨­è¨ˆä»¤ç‰Œç³»çµ±ï¼Œå®šç¾©åœ¨ `frontend/src/styles/designTokens.ts`ï¼š

- **é¡è‰²ç³»çµ±**ï¼šä¸»è‰²èª¿ã€æ¬¡è‰²èª¿ã€èªç¾©è‰²å½©
- **å­—é«”ç³»çµ±**ï¼šå­—é«”å®¶æ—ã€å¤§å°ã€æ¬Šé‡
- **é–“è·ç³»çµ±**ï¼šçµ±ä¸€çš„é–“è·è¦ç¯„
- **é‚Šæ¡†åŠå¾‘**ï¼šçµ±ä¸€çš„åœ“è§’è¦ç¯„
- **é™°å½±ç³»çµ±**ï¼šåˆ†å±¤çš„é™°å½±æ•ˆæœ

### æ¨£å¼å·¥å…·
`frontend/src/styles/sxUtils.ts` æä¾›å¸¸ç”¨çš„æ¨£å¼å·¥å…·ï¼š

- **éŸ¿æ‡‰å¼æ¨£å¼**ï¼šé©é…ä¸åŒè¢å¹•å°ºå¯¸
- **å¸¸ç”¨æ¨£å¼**ï¼šæŒ‰éˆ•ã€ä½ˆå±€ã€æ–‡å­—æ¨£å¼
- **ä¸»é¡Œæ•´åˆ**ï¼šèˆ‡ Material-UI ä¸»é¡Œç³»çµ±æ•´åˆ

## ğŸ§ª æ¸¬è©¦ç­–ç•¥

### æ¸¬è©¦é¡å‹
- **å–®å…ƒæ¸¬è©¦**ï¼šæ¸¬è©¦å€‹åˆ¥å‡½æ•¸å’Œçµ„ä»¶
- **æ•´åˆæ¸¬è©¦**ï¼šæ¸¬è©¦ API ç«¯é»å’Œè³‡æ–™åº«æ“ä½œ
- **ç«¯åˆ°ç«¯æ¸¬è©¦**ï¼šæ¸¬è©¦å®Œæ•´çš„ç”¨æˆ¶æµç¨‹

### æ¸¬è©¦è¦†è“‹ç¯„åœ
- âœ… èªè­‰æµç¨‹ (è¨»å†Šã€ç™»å…¥ã€ç™»å‡º)
- âœ… åœ°é» CRUD æ“ä½œ
- âœ… Google API æ•´åˆ
- âœ… è³‡æ–™åº«æ“ä½œ
- âœ… è¡¨å–®é©—è­‰
- âœ… éŒ¯èª¤è™•ç†

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### èªè­‰å®‰å…¨
- **JWT Token**ï¼šå®‰å…¨çš„èº«ä»½é©—è­‰
- **å¯†ç¢¼åŠ å¯†**ï¼šbcrypt é›œæ¹ŠåŠ å¯†
- **Token é©—è­‰**ï¼šè‡ªå‹•æª¢æŸ¥ token æœ‰æ•ˆæ€§
- **è·¯ç”±ä¿è­·**ï¼šå—ä¿è­·çš„è·¯ç”±éœ€è¦èªè­‰

### è³‡æ–™å®‰å…¨
- **è¼¸å…¥é©—è­‰**ï¼šå‰å¾Œç«¯é›™é‡é©—è­‰
- **SQL æ³¨å…¥é˜²è­·**ï¼šåƒæ•¸åŒ–æŸ¥è©¢
- **CORS é…ç½®**ï¼šè·¨åŸŸè«‹æ±‚å®‰å…¨æ§åˆ¶
- **éŒ¯èª¤è™•ç†**ï¼šä¸æ´©éœ²æ•æ„Ÿè³‡è¨Š

## ğŸ“± éŸ¿æ‡‰å¼è¨­è¨ˆ

### æ–·é»ç³»çµ±
- **æ‰‹æ©Ÿ**ï¼š< 600px
- **å¹³æ¿**ï¼š600px - 960px
- **æ¡Œé¢**ï¼š> 960px

### é©é…ç‰¹æ€§
- **å½ˆæ€§ä½ˆå±€**ï¼šFlexbox å’Œ Grid ä½ˆå±€
- **éŸ¿æ‡‰å¼åœ–ç‰‡**ï¼šé©é…ä¸åŒè¢å¹•å¯†åº¦
- **è§¸æ§å‹å¥½**ï¼šå„ªåŒ–è§¸æ§æ“ä½œé«”é©—
- **åœ°åœ–é©é…**ï¼šåœ°åœ–çµ„ä»¶éŸ¿æ‡‰å¼èª¿æ•´

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ç”Ÿç”¢ç’°å¢ƒè¨­ç½®
1. **ç’°å¢ƒè®Šæ•¸é…ç½®**
2. **è³‡æ–™åº«é·ç§»**
3. **éœæ…‹è³‡æºå„ªåŒ–**
4. **API é€Ÿç‡é™åˆ¶**
5. **éŒ¯èª¤ç›£æ§è¨­ç½®**

### æ€§èƒ½å„ªåŒ–
- **ä»£ç¢¼åˆ†å‰²**ï¼šæŒ‰éœ€è¼‰å…¥çµ„ä»¶
- **åœ–ç‰‡å„ªåŒ–**ï¼šå£“ç¸®å’Œå»¶é²è¼‰å…¥
- **å¿«å–ç­–ç•¥**ï¼šAPI éŸ¿æ‡‰å¿«å–
- **CDN æ•´åˆ**ï¼šéœæ…‹è³‡æº CDN

## ğŸ¤ è²¢ç»æŒ‡å—

### é–‹ç™¼æµç¨‹
1. Fork å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯
3. æäº¤è®Šæ›´
4. å»ºç«‹ Pull Request

### ä»£ç¢¼è¦ç¯„
- **TypeScript**ï¼šåš´æ ¼çš„é¡å‹æª¢æŸ¥
- **ESLint**ï¼šä»£ç¢¼å“è³ªæª¢æŸ¥
- **Prettier**ï¼šä»£ç¢¼æ ¼å¼åŒ–
- **Git Hooks**ï¼šæäº¤å‰æª¢æŸ¥

## ğŸ“„ æˆæ¬Š

MIT License - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

## ğŸ“ æ”¯æ´

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹ï¼š
- æäº¤ [Issue](../../issues)
- å»ºç«‹ [Pull Request](../../pulls)
- è¯ç¹«é–‹ç™¼åœ˜éšŠ

---

**æ¢æ¢** - è®“æ¢ç´¢è®Šå¾—æ›´æœ‰è¶£ï¼ ğŸ—ºï¸âœ¨
